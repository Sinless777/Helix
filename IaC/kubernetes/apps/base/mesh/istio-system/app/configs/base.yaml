global:
  istioNamespace: mesh
  hub: "docker.io/istio"
  tag: "1.28.0"                      # pin to a known stable version
  defaultRevision: "default"
  podDisruptionBudget:
    enabled: true
  defaultResources:
    requests:
      cpu: "100m"
      memory: "256Mi"
    limits:
      cpu: "500m"
      memory: "1024Mi"

meshConfig:
  accessLogFile: "/dev/stdout"
  enableTracing: true
  enablePrometheusMerge: true
  defaultConfig:
    proxyMetadata:
      ISTIO_PROXY_SHA: "auto"

security:
  mtls:
    enabled: true
  enablePortSharing: true

pilot:
  autoscaleMin: 2
  autoscaleMax: 5
  resources:
    requests:
      cpu: "250m"
      memory: "512Mi"
    limits:
      cpu: "1000m"
      memory: "1Gi"

telemetry:
  enabled: true

gateways:
  istioIngress:
    enabled: true
    type: LoadBalancer
    externalTrafficPolicy: Local
  istioEgress:
    enabled: false
