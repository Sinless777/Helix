global:
  istioNamespace: mesh
  hub: "docker.io/istio"              # pin your image registry
  tag: "1.28.0"                       # pin to stable version
  defaultRevision: "default"

gateways:
  istioIngress:
    enabled: true
    namespace: mesh
    labels:
      app.kubernetes.io/name: istio-ingressgateway
      app.kubernetes.io/instance: istio-ingressgateway
      helix.ai/component: edge-gateway
    service:
      type: LoadBalancer                    # Ensure external load-balancer service
      externalTrafficPolicy: Local
      annotations:
        # Add cloud-specific LB annotations if needed (e.g., AWS/NLB, Azure internal)
        # e.g., service.beta.kubernetes.io/aws-load-balancer-type: "nlb"
      loadBalancerIP: ""                    # Provide static IP if you reserve one
    resources:
      requests:
        cpu: "250m"
        memory: "512Mi"
      limits:
        cpu: "1000m"
        memory: "1Gi"

  istioEgress:
    enabled: false

meshConfig:
  enablePrometheusMerge: true
  accessLogFile: "/dev/stdout"
  defaultConfig:
    proxyMetadata:
      ISTIO_PROXY_SHA: "auto"
