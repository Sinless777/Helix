# Flagger Helm chart values â€“ Helix Platform Mesh & Progressive Delivery
meshProvider: istio                            # Use Istio as the service-mesh provider  
metricsServer: "http://prometheus.observability.svc.cluster.local:9090"  # Clear Prometheus endpoint  
prometheus:
  install: false                                # Do not install a new Prometheus instance  
  serviceAccount:
    create: false                              # Use existing service account if applicable
  namespace: observability                      # Namespace where Prometheus lives  
  interval: "1m"                                # How often to query metrics  
  threshold: 5                                  # Number of failed try intervals before rollback  
nodeSelector:
  kubernetes.io/os: linux  
tolerations:
  - key: "node-role.kubernetes.io/control-plane"
    operator: Exists
    effect: NoSchedule  
resources:
  requests:
    cpu: "100m"
    memory: "128Mi"
  limits:
    cpu: "300m"
    memory: "512Mi"
securityContext:
  runAsNonRoot: true
  runAsUser: 1000
  fsGroup: 1000
affinity:
  podAntiAffinity:
    requiredDuringSchedulingIgnoredDuringExecution:
      - labelSelector:
          matchLabels:
            app.kubernetes.io/name: flagger
        topologyKey: kubernetes.io/hostname  
