---
apiVersion: notification.toolkit.fluxcd.io/v1
kind: Receiver
metadata:
  name: discord-webhook-receiver
  namespace: flux-system
  labels:
    app.kubernetes.io/name: discord-webhook-receiver
    app.kubernetes.io/part-of: helix-platform
    app.kubernetes.io/managed-by: fluxcd
    helix.ai/component: notifications-receiver
spec:
  type: generic            # “generic” is simplest; other types available
  secretRef:
    name: discord-webhook-token
  events:
    - “*”                   # all events; refine if you want filter (see docs) :contentReference[oaicite:2]{index=2}
  resources:
    - apiVersion: source.toolkit.fluxcd.io/v1beta2
      kind: GitRepository
      namespace: flux-system
      name: "*"
    - apiVersion: kustomize.toolkit.fluxcd.io/v1
      kind: Kustomization
      namespace: flux-system
      name: "*"
    - apiVersion: helm.toolkit.fluxcd.io/v2beta1
      kind: HelmRelease
      namespace: flux-system
      name: "*"
