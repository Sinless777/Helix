project: helix-ai
environments:
  - name: development
    description: Local + staging builds
  - name: production
    description: Public cloud / prod tenants

features:
  # Core Assistant Features
  - key: assistant_enabled
    default_variant: true
    description: Enable the core Helix assistant chat + inference engine

  - key: memory_v2
    default_variant: false
    description: Enable pgvector-powered long-term memory with contextual embeddings

  - key: plugin_runtime_enabled
    default_variant: false
    description: Allow execution of sandboxed plugins/tools via Deno runtime

  - key: tools_ui_enabled
    default_variant: true
    description: Enable the plugin/tool drawer in the assistant UI

  - key: persona_overlays
    default_variant: true
    description: Adaptive tone/persona customization for responses

  # Tier Feature Flags
  - key: tier_basic_features
    default_variant: true
    description: Enables basic chat + assistant features

  - key: tier_basic_plus_features
    default_variant: false
    description: Enables full Discord integration + creator tools

  - key: tier_premium_features
    default_variant: false
    description: Security automation, full API, workflow history

  - key: tier_premium_plus_features
    default_variant: false
    description: Enables IoT agents, memory graphing, scrapers

  - key: tier_pro_features
    default_variant: false
    description: Enables org-wide analytics, automations, hybrid inference

  - key: tier_enterprise_features
    default_variant: false
    description: Enables audit exports, chaos mode, and on-prem governance

  # Experiment / Beta Flags
  - key: chaos_mode_enabled
    default_variant: false
    description: Enable Chaos Engineering tests in non-prod

  - key: model_experiments
    default_variant: "openai:gpt-4.1"
    description: Override default model route for LLM experiments

  - key: voice_inference_enabled
    default_variant: false
    description: Enable audio-to-intent parsing in experimental UI

  - key: web_scraper_enabled
    default_variant: false
    description: Enable autonomous web indexer + content miner

  - key: embedding_search_enabled
    default_variant: false
    description: Allow vector search over MemoryShard embeddings

  - key: agent_autonomy_beta
    default_variant: false
    description: Allow Helix to proactively initiate actions via automation

  # Security Flags
  - key: audit_log_strict_mode
    default_variant: false
    description: Require audit trails for all tool/plugin executions

  - key: plugin_review_required
    default_variant: true
    description: Force skill review queue before plugin activation

  - key: data_retention_override
    default_variant: 30
    description: Default memory/data TTL in days (can be org-specific)

  - key: disable_openai_fallback
    default_variant: false
    description: Prevent fallback to OpenAI if other LLMs fail

  - key: enforce_zero_trust_plugin
    default_variant: true
    description: Isolate plugin execution from user/system memory access

  # Observability Flags
  - key: telemetry_enabled
    default_variant: true
    description: Allow OpenTelemetry spans and metrics (non-sensitive)

  - key: usage_metering_enabled
    default_variant: true
    description: Enable metering for tokens, runs, and integrations

  - key: show_user_dashboard
    default_variant: true
    description: Enable user-facing Grafana or Helix analytics panels

  - key: metrics_tracing_verbose
    default_variant: false
    description: Enable full trace/span debugging for dev tools

  # UI/UX Flags
  - key: enable_markdown_tools_ui
    default_variant: true
    description: Enable markdown rendering and toolcards in chat

  - key: plugin_drawer_beta
    default_variant: false
    description: Enable new horizontal plugin drawer layout

  - key: dashboard_mode_enabled
    default_variant: true
    description: Enable full dashboard UI (assistant + memory + automations)

  - key: dark_theme_default
    default_variant: true
    description: Use dark mode as default theme unless overridden

  # Platform & Role Flags
  - key: developer_tools_enabled
    default_variant: false
    description: Enable dev-facing plugin sandbox, logs, and test memory UI

  - key: org_admin_mode
    default_variant: false
    description: 'Enable org management: users, roles, RBAC, billing'

  - key: sandbox_mode
    default_variant: true
    description: Restrict plugins from external network access (dev only)
